{"version":3,"file":"src_app_page_reportes_reportes_module_ts.js","mappings":"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","sources":["./src/app/page/reportes/reportes-routing.module.ts","./src/app/page/reportes/reportes.module.ts","./src/app/page/reportes/reportes.page.ts","./src/app/page/reportes/reportes.page.html","./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js","./node_modules/@capacitor/camera/dist/esm/web.js","./node_modules/@capacitor/geolocation/dist/esm/definitions.js","./node_modules/@capacitor/geolocation/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ReportesPage } from './reportes.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReportesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ReportesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ReportesPageRoutingModule } from './reportes-routing.module';\r\n\r\nimport { ReportesPage } from './reportes.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReportesPageRoutingModule\r\n  ],\r\n  declarations: [ReportesPage]\r\n})\r\nexport class ReportesPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SupabaseService } from '../../service/supabase/supabase.service';\r\nimport { HttpResponse } from '@angular/common/http';\r\nimport { AutenticacionService } from '../../service/autenticacion/autenticacion.service';\r\nimport { Router } from '@angular/router';\r\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\r\nimport { Geolocation } from '@capacitor/geolocation';\r\nimport { MapsService } from 'src/app/service/maps/maps.service';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\n\r\n\r\ndeclare var google: any;\r\n\r\n@Component({\r\n  selector: 'app-reportes',\r\n  templateUrl: './reportes.page.html',\r\n  styleUrls: ['./reportes.page.scss'],\r\n})\r\nexport class ReportesPage implements OnInit {\r\n  reportes: any[] = [];\r\n  map: any;\r\n  userPosition: { lat: number; lng: number } | null = null;\r\n  marker: any;\r\n\r\n  nuevoReporte = {\r\n    id_region: '',\r\n    id_tipo_vehiculo: '',\r\n    color: '',\r\n    patente: '',\r\n    modelo: '',\r\n    id_marca: '',\r\n    fecha_publicacion: '',\r\n    desconocidoModelo: false,\r\n    desconocidoPatente: false,\r\n    fotoUri: '',  // Guardará la URI de la foto tomada\r\n    ubicacion:''\r\n  };\r\n\r\n\r\n  constructor(\r\n    private supabaseService: SupabaseService,\r\n    private alertController: AlertController,\r\n    private autenticacionService: AutenticacionService,\r\n    private router: Router,\r\n    private mapsService: MapsService,\r\n    private loadingController: LoadingController\r\n\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.cargarReportes();\r\n    this.getUserLocation().then(() => {\r\n      this.mapsService.loadGoogleMaps()\r\n        .then(() => this.initializeMap())\r\n        .catch((error) => console.error('Error al cargar Google Maps:', error));\r\n    }).catch(error => {\r\n      console.error('Error al obtener la ubicación:', error);\r\n    });\r\n  }\r\n\r\n  initializeMap() {\r\n    const mapElement = document.getElementById('map');\r\n    if (!mapElement) {\r\n      console.error('Contenedor del mapa no encontrado');\r\n      return;\r\n    }\r\n\r\n    const mapOptions = {\r\n      center: this.userPosition || { lat: -33.4489, lng: -70.6693 },\r\n      zoom: 15,\r\n    };\r\n\r\n    if (this.map) {\r\n      // Si el mapa ya existe, fuerza un redibujado.\r\n      google.maps.event.trigger(this.map, 'resize');\r\n      this.map.setCenter(mapOptions.center);\r\n    } else {\r\n      // Inicializa el mapa solo si no existe.\r\n      this.map = new google.maps.Map(mapElement, mapOptions);\r\n    }\r\n\r\n    if (this.userPosition) {\r\n      if (this.marker) {\r\n        this.marker.setMap(null); // Elimina el marcador anterior si existe\r\n      }\r\n\r\n      this.marker = new google.maps.Marker({\r\n        position: this.userPosition,\r\n        map: this.map,\r\n        title: 'Ubicación Actual',\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  async getUserLocation() {\r\n    try {\r\n      const position = await Geolocation.getCurrentPosition({\r\n        enableHighAccuracy: true,\r\n        timeout: 10000,\r\n        maximumAge: 0,\r\n      });\r\n\r\n      this.userPosition = {\r\n        lat: position.coords.latitude,\r\n        lng: position.coords.longitude,\r\n      };\r\n\r\n      console.log('Ubicación del usuario:', this.userPosition);\r\n    } catch (error) {\r\n      console.error('Error al obtener la ubicación del usuario:', error);\r\n      this.userPosition = null; // Manejar la falta de ubicación\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  updateUserLocation() {\r\n    this.getUserLocation().then(() => {\r\n      if (this.userPosition) {\r\n        // Centrar el mapa en la nueva ubicación\r\n        this.map.setCenter(this.userPosition);\r\n\r\n        // Elimina el marcador anterior si existe\r\n        if (this.marker) {\r\n          this.marker.setMap(null);\r\n        }\r\n\r\n        // Agrega el nuevo marcador en la ubicación actualizada\r\n        this.marker = new google.maps.Marker({\r\n          position: this.userPosition,\r\n          map: this.map,\r\n          title: 'Ubicación Actual',\r\n        });\r\n      }\r\n    }).catch(error => {\r\n      console.error('Error al actualizar la ubicación:', error);\r\n    });\r\n  }\r\n\r\n  cargarReportes() {\r\n    this.supabaseService.getReportes().subscribe({\r\n      next: (response: HttpResponse<any>) => {\r\n        this.reportes = response.body;\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al cargar reportes:', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  onDesconocidoModelo() {\r\n    this.nuevoReporte.modelo = this.nuevoReporte.desconocidoModelo ? 'Desconocido' : '';\r\n  }\r\n\r\n  onDesconocidoPatente() {\r\n    this.nuevoReporte.patente = this.nuevoReporte.desconocidoPatente ? 'Desconocido' : '';\r\n  }\r\n\r\n  async agregarReporte() {\r\n    const today = new Date();\r\n    this.nuevoReporte.fecha_publicacion = today.toISOString().split('T')[0];\r\n    console.log(\"Formulario enviado\");\r\n\r\n    // Validaciones previas\r\n    if (!this.nuevoReporte.id_region || !this.nuevoReporte.id_tipo_vehiculo || !this.nuevoReporte.id_marca ||\r\n      (!this.nuevoReporte.modelo && !this.nuevoReporte.desconocidoModelo) ||\r\n      (!this.nuevoReporte.patente && !this.nuevoReporte.desconocidoPatente) ||\r\n      !this.nuevoReporte.color) {\r\n      await this.presentErrorAlert('Por favor, completa todos los campos requeridos.');\r\n      return;\r\n    }\r\n\r\n    // Validación de la patente\r\n    if (this.nuevoReporte.patente && !this.nuevoReporte.desconocidoPatente) {\r\n      const patenteLength = this.nuevoReporte.patente.length;\r\n      if (patenteLength < 5 || patenteLength > 6) {\r\n        await this.presentErrorAlert('Patente no corresponde');\r\n        return;\r\n      }\r\n    }\r\n\r\n    // Validación de foto: Si no hay foto, no permitir enviar el reporte\r\n    if (!this.nuevoReporte.fotoUri) {\r\n      await this.presentErrorAlert('Por favor, toma una foto antes de enviar el reporte.');\r\n      return;\r\n    }\r\n\r\n    // Validar que las coordenadas del usuario estén disponibles\r\n    if (!this.userPosition) {\r\n      await this.presentErrorAlert('No se pudo obtener la ubicación. Por favor, intenta nuevamente.');\r\n      return;\r\n    }\r\n\r\n    this.autenticacionService.obtenerRutUsuario().subscribe({\r\n      next: (rutUsuario) => {\r\n        if (!rutUsuario) {\r\n          this.presentErrorAlert('Error: Usuario no autenticado. Por favor, inicia sesión.');\r\n          return;\r\n        }\r\n\r\n        const reporteData = {\r\n          id_region: this.nuevoReporte.id_region,\r\n          id_tipo_vehiculo: this.nuevoReporte.id_tipo_vehiculo,\r\n          color: this.nuevoReporte.color,\r\n          patente: this.nuevoReporte.desconocidoPatente ? 'Desconocido' : this.nuevoReporte.patente,\r\n          modelo: this.nuevoReporte.desconocidoModelo ? 'Desconocido' : this.nuevoReporte.modelo,\r\n          id_marca: this.nuevoReporte.id_marca,\r\n          fecha_publicacion: this.nuevoReporte.fecha_publicacion,\r\n          rut_usuario: rutUsuario,\r\n          foto: '',\r\n          ubicacion: `${this.userPosition?.lat},${this.userPosition?.lng}` // Almacenar las coordenadas en el campo \"ubicacion\"\r\n        };\r\n\r\n        // Subir la foto si se ha capturado una\r\n        if (this.nuevoReporte.fotoUri) {\r\n          this.subirFoto(this.nuevoReporte.fotoUri).then((publicUrl) => {\r\n            reporteData.foto = publicUrl; // Incluir la URL de la foto subida\r\n\r\n            // Agregar el reporte con la URL de la foto y la ubicación\r\n            this.supabaseService.addReporte(reporteData).subscribe({\r\n              next: async (response) => {\r\n                console.log('Respuesta del servidor:', response);\r\n                this.cargarReportes();\r\n                this.resetNuevoReporte();\r\n                await this.presentSuccessAlert('Reporte agregado con éxito.');\r\n              },\r\n              error: (err) => {\r\n                console.error('Error al agregar reporte:', err);\r\n                this.presentErrorAlert('Error al agregar el reporte. Intenta nuevamente.');\r\n              }\r\n            });\r\n          });\r\n        }\r\n      },\r\n      error: (err) => {\r\n        console.error('Error al obtener el RUT del usuario:', err);\r\n        this.presentErrorAlert('Error al obtener el RUT del usuario.');\r\n      }\r\n    });\r\n\r\n    console.log('Reporte agregado:', this.nuevoReporte);\r\n    this.router.navigate(['ver-reporte']);\r\n  }\r\n\r\n  async presentErrorAlert(message: string) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Error',\r\n      message: message,\r\n      buttons: ['OK'],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async presentSuccessAlert(message: string) {\r\n    const alert = await this.alertController.create({\r\n      header: 'Éxito',\r\n      message: message,\r\n      buttons: ['OK'],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  cancelar() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  resetNuevoReporte() {\r\n    this.nuevoReporte = {\r\n      id_region: '',\r\n      id_tipo_vehiculo: '',\r\n      id_marca: '',\r\n      modelo: '',\r\n      color: '',\r\n      patente: '',\r\n      fecha_publicacion: '',\r\n      desconocidoModelo: false,\r\n      desconocidoPatente: false,\r\n      fotoUri: '',\r\n      ubicacion:''\r\n    };\r\n  }\r\n\r\n  async tomarFoto() {\r\n    try {\r\n      const image = await Camera.getPhoto({\r\n        quality: 70,\r\n        allowEditing: false,\r\n        resultType: CameraResultType.Uri,  // Usar Uri para obtener una referencia de la foto\r\n        source: CameraSource.Camera\r\n      });\r\n\r\n      // Guardar la URI de la imagen capturada\r\n      this.nuevoReporte.fotoUri = image.webPath!;\r\n      console.log('Foto tomada correctamente:', this.nuevoReporte.fotoUri);\r\n    } catch (error) {\r\n      console.error('Error al tomar la foto:', error);\r\n    }\r\n  }\r\n\r\n\r\n  async subirFoto(fotoUri: string) {\r\n    const loading = await this.loadingController.create({\r\n      message: 'Subiendo foto...',\r\n      spinner: 'crescent',\r\n      backdropDismiss: false,\r\n    });\r\n\r\n    await loading.present(); // Mostrar el spinner\r\n\r\n    try {\r\n      const response = await fetch(fotoUri);\r\n      const blob = await response.blob();\r\n\r\n      // Generar un nombre único para la imagen en el bucket\r\n      const fileName = `${new Date().getTime()}.jpg`;\r\n\r\n      // Subir la imagen al bucket de Supabase\r\n      const filePath = await this.supabaseService.uploadFile(fileName, blob);\r\n\r\n      // Obtener la URL pública de la imagen\r\n      const publicUrl = this.supabaseService.getPublicUrl(filePath);\r\n      console.log('Foto subida correctamente:', publicUrl);\r\n\r\n      await loading.dismiss(); // Ocultar el spinner\r\n      return publicUrl;\r\n    } catch (error) {\r\n      console.error('Error al subir la foto:', error);\r\n      await loading.dismiss(); // Ocultar el spinner incluso si hay un error\r\n      throw error;\r\n    }\r\n  }\r\n\r\n\r\n  doRefresh(event: any) {\r\n    console.log('Pull-to-Refresh activado');\r\n\r\n    // Recargar reportes\r\n    this.cargarReportes();\r\n\r\n    // Opcional: Recargar mapa y ubicación\r\n    this.updateUserLocation();\r\n\r\n    // Finalizar el refresco tras unos segundos\r\n    setTimeout(() => {\r\n      console.log('Refresco completado');\r\n      event.target.complete();\r\n    }, 2000);\r\n  }\r\n\r\n\r\n}\r\n","<ion-header [translucent]=\"true\">\r\n  <ion-toolbar>\r\n    <ion-buttons slot=\"start\">\r\n      <ion-menu-button></ion-menu-button>\r\n    </ion-buttons>\r\n    <ion-title>Crear Reporte</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\r\n    <ion-refresher-content\r\n\r\n      refreshingSpinner=\"bubbles\">\r\n    </ion-refresher-content>\r\n  </ion-refresher>\r\n\r\n  <ion-button expand=\"full\" (click)=\"updateUserLocation()\">\r\n    Actualizar Ubicación\r\n  </ion-button>\r\n  <div id=\"map\" style=\"width: 100%; height: 400px;\"></div>\r\n\r\n  <!-- Botón para actualizar la ubicación del GPS -->\r\n\r\n\r\n  <div class=\"form-container\">\r\n    <h2>Agregar Reporte</h2>\r\n\r\n    <form (ngSubmit)=\"agregarReporte()\">\r\n      <!-- Selección de región -->\r\n      <ion-item>\r\n        <ion-label>Región:</ion-label>\r\n        <ion-select [(ngModel)]=\"nuevoReporte.id_region\" name=\"region\" placeholder=\"Selecciona una región\" required>\r\n          <ion-select-option value=1>Región de Arica y Parinacota</ion-select-option>\r\n          <ion-select-option value=2>Región de Tarapacá</ion-select-option>\r\n          <ion-select-option value=3>Región de Antofagasta</ion-select-option>\r\n          <ion-select-option value=4>Región de Atacama</ion-select-option>\r\n          <ion-select-option value=5>Región de Coquimbo</ion-select-option>\r\n          <ion-select-option value=6>Región de Valparaíso</ion-select-option>\r\n          <ion-select-option value=7>Región Metropolitana</ion-select-option>\r\n          <ion-select-option value=8>Región de O’Higgins</ion-select-option>\r\n          <ion-select-option value=9>Región del Maule</ion-select-option>\r\n          <ion-select-option value=10>Región del Ñuble</ion-select-option>\r\n          <ion-select-option value=11>Región del Biobío</ion-select-option>\r\n          <ion-select-option value=12>Región de La Araucanía</ion-select-option>\r\n          <ion-select-option value=13>Región de Los Ríos</ion-select-option>\r\n          <ion-select-option value=14>Región de Los Lagos</ion-select-option>\r\n          <ion-select-option value=15>Región de Aysén</ion-select-option>\r\n          <ion-select-option value=16>Región de Magallanes</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n\r\n      <!-- Selección de tipo de vehículo -->\r\n      <ion-item>\r\n        <ion-label>Tipo de vehiculo:</ion-label>\r\n        <ion-select [(ngModel)]=\"nuevoReporte.id_tipo_vehiculo\" name=\"tipo_vehiculo\" placeholder=\"Selecciona el tipo de vehiculo\" required>\r\n          <ion-select-option value=1>Auto</ion-select-option>\r\n          <ion-select-option value=2>Camioneta</ion-select-option>\r\n          <ion-select-option value=3>Motocicleta</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n\r\n      <!-- Selección de marca -->\r\n      <ion-item>\r\n        <ion-label>Marca:</ion-label>\r\n        <ion-select [(ngModel)]=\"nuevoReporte.id_marca\" name=\"marca\" placeholder=\"Selecciona una marca\" required>\r\n          <ion-select-option value=1>Toyota</ion-select-option>\r\n          <ion-select-option value=2>Chevrolet</ion-select-option>\r\n          <ion-select-option value=3>Ford</ion-select-option>\r\n          <ion-select-option value=4>Hyundai</ion-select-option>\r\n          <ion-select-option value=5>Honda</ion-select-option>\r\n\r\n        </ion-select>\r\n      </ion-item>\r\n\r\n      <!-- Selección de modelo -->\r\n      <ion-item>\r\n        <ion-label>Modelo:</ion-label>\r\n        <div >\r\n          <ion-input\r\n            [(ngModel)]=\"nuevoReporte.modelo\"\r\n            name=\"modelo\"\r\n            placeholder=\"Ingrese modelo\"\r\n            [disabled]=\"nuevoReporte.desconocidoModelo\"\r\n            required>\r\n          </ion-input>\r\n\r\n          <ion-toggle\r\n            [(ngModel)]=\"nuevoReporte.desconocidoModelo\"\r\n            name=\"desconocido\"\r\n            (ionChange)=\"onDesconocidoModelo()\"><ion-label >Desconocido</ion-label>\r\n          </ion-toggle>\r\n\r\n        </div>\r\n      </ion-item>\r\n\r\n      <!-- Selección de color -->\r\n      <ion-item>\r\n        <ion-label>Color:</ion-label>\r\n        <ion-select [(ngModel)]=\"nuevoReporte.color\" name=\"color\" placeholder=\"Selecciona un color\" required>\r\n          <ion-select-option value=\"Negro\">Negro</ion-select-option>\r\n          <ion-select-option value=\"Blanco\">Blanco</ion-select-option>\r\n          <ion-select-option value=\"Gris\">Gris</ion-select-option>\r\n          <ion-select-option value=\"Rojo\">Rojo</ion-select-option>\r\n          <ion-select-option value=\"Azul\">Azul</ion-select-option>\r\n          <ion-select-option value=\"Verde\">Verde</ion-select-option>\r\n          <ion-select-option value=\"Amarillo\">Amarillo</ion-select-option>\r\n          <ion-select-option value=\"Naranjo\">Naranjo</ion-select-option>\r\n          <ion-select-option value=\"Dorado\">Dorado</ion-select-option>\r\n          <ion-select-option value=\"Plateado\">Plateado</ion-select-option>\r\n          <ion-select-option value=\"Morado\">Morado</ion-select-option>\r\n          <ion-select-option value=\"Celeste\">Celeste</ion-select-option>\r\n          <ion-select-option value=\"Rosa\">Rosa</ion-select-option>\r\n          <ion-select-option value=\"Cafe\">Café</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n      <ion-item>\r\n        <ion-label>Foto del Vehículo:</ion-label>\r\n        <ion-button (click)=\"tomarFoto()\">Insertar Foto</ion-button>\r\n      </ion-item>\r\n\r\n      <ion-item *ngIf=\"nuevoReporte.fotoUri\">\r\n        <img [src]=\"nuevoReporte.fotoUri\" alt=\"Foto del vehículo\" style=\"width: 100%; height: auto; margin-top: 10px;\"/>\r\n      </ion-item>\r\n\r\n\r\n      <!-- Selección de patente -->\r\n      <ion-item>\r\n        <ion-label>Patente:</ion-label>\r\n        <div>\r\n          <ion-input\r\n            [(ngModel)]=\"nuevoReporte.patente\"\r\n            name=\"patente\"\r\n            placeholder=\"AABB12\"\r\n            [disabled]=\"nuevoReporte.desconocidoPatente\"\r\n            required>\r\n          </ion-input>\r\n          <ion-label >Desconocido</ion-label>\r\n          <ion-toggle\r\n            [(ngModel)]=\"nuevoReporte.desconocidoPatente\"\r\n            name=\"desconocido\"\r\n            (ionChange)=\"onDesconocidoPatente()\">\r\n          </ion-toggle>\r\n        </div>\r\n      </ion-item>\r\n\r\n      <ion-button expand=\"full\" type=\"submit\">Agregar Reporte</ion-button>\r\n      <ion-button expand=\"full\" (click)=\"cancelar()\">Cancelar Reporte</ion-button>\r\n    </form>\r\n  </div>\r\n\r\n</ion-content>\r\n","export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo from the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n","import { registerPlugin } from '@capacitor/core';\nimport { CameraWeb } from './web';\nconst Camera = registerPlugin('Camera', {\n    web: () => new CameraWeb(),\n});\nexport * from './definitions';\nexport { Camera };\n","import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput || options.source === CameraSource.Photos) {\n                this.fileInputExperience(options, resolve, reject);\n            }\n            else if (options.source === CameraSource.Prompt) {\n                let actionSheet = document.querySelector('pwa-action-sheet');\n                if (!actionSheet) {\n                    actionSheet = document.createElement('pwa-action-sheet');\n                    document.body.appendChild(actionSheet);\n                }\n                actionSheet.header = options.promptLabelHeader || 'Photo';\n                actionSheet.cancelable = false;\n                actionSheet.options = [\n                    { title: options.promptLabelPhoto || 'From Photos' },\n                    { title: options.promptLabelPicture || 'Take Picture' },\n                ];\n                actionSheet.addEventListener('onSelection', async (e) => {\n                    const selection = e.detail;\n                    if (selection === 0) {\n                        this.fileInputExperience(options, resolve, reject);\n                    }\n                    else {\n                        this.cameraExperience(options, resolve, reject);\n                    }\n                });\n            }\n            else {\n                this.cameraExperience(options, resolve, reject);\n            }\n        });\n    }\n    async pickImages(_options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            this.multipleFileInputExperience(resolve, reject);\n        });\n    }\n    async cameraExperience(options, resolve, reject) {\n        if (customElements.get('pwa-camera-modal')) {\n            const cameraModal = document.createElement('pwa-camera-modal');\n            cameraModal.facingMode =\n                options.direction === CameraDirection.Front ? 'user' : 'environment';\n            document.body.appendChild(cameraModal);\n            try {\n                await cameraModal.componentOnReady();\n                cameraModal.addEventListener('onPhoto', async (e) => {\n                    const photo = e.detail;\n                    if (photo === null) {\n                        reject(new CapacitorException('User cancelled photos app'));\n                    }\n                    else if (photo instanceof Error) {\n                        reject(photo);\n                    }\n                    else {\n                        resolve(await this._getCameraPhoto(photo, options));\n                    }\n                    cameraModal.dismiss();\n                    document.body.removeChild(cameraModal);\n                });\n                cameraModal.present();\n            }\n            catch (e) {\n                this.fileInputExperience(options, resolve, reject);\n            }\n        }\n        else {\n            console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements.`);\n            this.fileInputExperience(options, resolve, reject);\n        }\n    }\n    fileInputExperience(options, resolve, reject) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            input.hidden = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const file = input.files[0];\n                let format = 'jpeg';\n                if (file.type === 'image/png') {\n                    format = 'png';\n                }\n                else if (file.type === 'image/gif') {\n                    format = 'gif';\n                }\n                if (options.resultType === 'dataUrl' ||\n                    options.resultType === 'base64') {\n                    const reader = new FileReader();\n                    reader.addEventListener('load', () => {\n                        if (options.resultType === 'dataUrl') {\n                            resolve({\n                                dataUrl: reader.result,\n                                format,\n                            });\n                        }\n                        else if (options.resultType === 'base64') {\n                            const b64 = reader.result.split(',')[1];\n                            resolve({\n                                base64String: b64,\n                                format,\n                            });\n                        }\n                        cleanup();\n                    });\n                    reader.readAsDataURL(file);\n                }\n                else {\n                    resolve({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                    cleanup();\n                }\n            });\n            input.addEventListener('cancel', (_e) => {\n                reject(new CapacitorException('User cancelled photos app'));\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.click();\n    }\n    multipleFileInputExperience(resolve, reject) {\n        let input = document.querySelector('#_capacitor-camera-input-multiple');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input-multiple';\n            input.type = 'file';\n            input.hidden = true;\n            input.multiple = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const photos = [];\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let i = 0; i < input.files.length; i++) {\n                    const file = input.files[i];\n                    let format = 'jpeg';\n                    if (file.type === 'image/png') {\n                        format = 'png';\n                    }\n                    else if (file.type === 'image/gif') {\n                        format = 'gif';\n                    }\n                    photos.push({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                }\n                resolve({ photos });\n                cleanup();\n            });\n            input.addEventListener('cancel', (_e) => {\n                reject(new CapacitorException('User cancelled photos app'));\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                    saved: false,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n    async getLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n"],"names":["RouterModule","ReportesPage","routes","path","component","ReportesPageRoutingModule","forChild","imports","i1","exports","CommonModule","FormsModule","IonicModule","ReportesPageModule","declarations","Camera","CameraResultType","CameraSource","Geolocation","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r0","nuevoReporte","fotoUri","ɵɵsanitizeUrl","constructor","supabaseService","alertController","autenticacionService","router","mapsService","loadingController","reportes","userPosition","id_region","id_tipo_vehiculo","color","patente","modelo","id_marca","fecha_publicacion","desconocidoModelo","desconocidoPatente","ubicacion","ngOnInit","cargarReportes","getUserLocation","then","loadGoogleMaps","initializeMap","catch","error","console","mapElement","document","getElementById","mapOptions","center","lat","lng","zoom","map","google","maps","event","trigger","setCenter","Map","marker","setMap","Marker","position","title","_this","_asyncToGenerator","getCurrentPosition","enableHighAccuracy","timeout","maximumAge","coords","latitude","longitude","log","updateUserLocation","getReportes","subscribe","next","response","body","err","onDesconocidoModelo","onDesconocidoPatente","agregarReporte","_this2","today","Date","toISOString","split","presentErrorAlert","patenteLength","length","obtenerRutUsuario","rutUsuario","_this2$userPosition","_this2$userPosition2","reporteData","rut_usuario","foto","subirFoto","publicUrl","addReporte","_ref","resetNuevoReporte","presentSuccessAlert","_x","apply","arguments","navigate","message","_this3","alert","create","header","buttons","present","_this4","cancelar","tomarFoto","_this5","image","getPhoto","quality","allowEditing","resultType","Uri","source","webPath","_this6","loading","spinner","backdropDismiss","fetch","blob","fileName","getTime","filePath","uploadFile","getPublicUrl","dismiss","doRefresh","setTimeout","target","complete","ɵɵdirectiveInject","SupabaseService","i2","AlertController","i3","AutenticacionService","i4","Router","i5","MapsService","LoadingController","selectors","decls","vars","consts","template","ReportesPage_Template","rf","ctx","ɵɵtext","ɵɵlistener","ReportesPage_Template_ion_refresher_ionRefresh_7_listener","$event","ReportesPage_Template_ion_button_click_9_listener","ReportesPage_Template_form_ngSubmit_15_listener","ɵɵtwoWayListener","ReportesPage_Template_ion_select_ngModelChange_19_listener","ɵɵtwoWayBindingSet","ReportesPage_Template_ion_select_ngModelChange_55_listener","ReportesPage_Template_ion_select_ngModelChange_65_listener","ReportesPage_Template_ion_input_ngModelChange_80_listener","ReportesPage_Template_ion_toggle_ngModelChange_81_listener","ReportesPage_Template_ion_toggle_ionChange_81_listener","ReportesPage_Template_ion_select_ngModelChange_87_listener","ReportesPage_Template_ion_button_click_119_listener","ɵɵtemplate","ReportesPage_ion_item_121_Template","ReportesPage_Template_ion_input_ngModelChange_126_listener","ReportesPage_Template_ion_toggle_ngModelChange_129_listener","ReportesPage_Template_ion_toggle_ionChange_129_listener","ReportesPage_Template_ion_button_click_132_listener","ɵɵtwoWayProperty","CameraDirection","registerPlugin","CameraWeb","web","WebPlugin","CapacitorException","options","Promise","resolve","reject","webUseInput","Photos","fileInputExperience","Prompt","actionSheet","querySelector","createElement","appendChild","promptLabelHeader","cancelable","promptLabelPhoto","promptLabelPicture","addEventListener","_ref2","e","selection","detail","cameraExperience","_x3","_x2","pickImages","_options","_ref3","multipleFileInputExperience","_x4","_x5","customElements","get","cameraModal","facingMode","direction","Front","componentOnReady","_ref4","photo","Error","_getCameraPhoto","removeChild","_x6","input","cleanup","_a","parentNode","id","type","hidden","_e","file","files","format","reader","FileReader","dataUrl","result","b64","base64String","readAsDataURL","URL","createObjectURL","accept","capture","removeAttribute","Rear","click","multiple","photos","i","push","saved","onloadend","r","onerror","checkPermissions","navigator","permissions","unavailable","permission","window","query","name","camera","state","requestPermissions","unimplemented","pickLimitedLibraryPhotos","getLimitedLibraryPhotos","_this7","m","GeolocationWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5,6,7,8]}